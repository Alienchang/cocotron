PROJECT(objc)

CMAKE_MINIMUM_REQUIRED(VERSION 2.4)

FILE(GLOB OBJC_HEADERS "${CMAKE_SOURCE_DIR}/../objc/*.h")
FOREACH(SRC ${OBJC_HEADERS})
	GET_FILENAME_COMPONENT(FILE_BASE ${SRC} NAME)
	SET(DST "${CMAKE_BINARY_DIR}/headers/objc/${FILE_BASE}")
	ADD_CUSTOM_COMMAND(
		OUTPUT ${DST}
		COMMAND ${CMAKE_COMMAND} ARGS -E copy ${SRC} ${DST}
		DEPENDS ${SRC}
		VERBATIM
	)
	SET(OBJC_HEADERS_INST ${OBJC_HEADERS_INST} ${DST})
ENDFOREACH(SRC)

ADD_CUSTOM_TARGET(OBJC_Headers DEPENDS ${OBJC_HEADERS_INST})
